# Документация по api - реализованные эндпоинты

## /services
---
### GET /services 
Список всех улуг (общий: шмномотаж, мойка и тд)

Пример успешного ответа:
~~~
[
    {
        "id": "03db1f58-2bbd-481c-8d93-b2828871b376",
        "name": "мойка"
    },
    {
        "id": "6b0ea372-91ee-4791-8739-946bd917e1c4",
        "name": "сушилка"
    }
]
~~~
Ответ ```[]``` - тоже успешный

---

### POST /services
Создание новой услуги

body:
~~~
{
    "name": "<название_услуги>"
}
~~~
Пример успешного ответа
~~~
{
    "id": "cdaef1fc-0b99-437e-aba4-3dfb356cfd5c",
    "name": "<название_услуги>"
}
~~~
---

### DELETE /services/{id}
Удаление услуги по id

При успешном удалении статус: ```204 No Content```

---
---
## /company
---
### GET /company/{inn}
Плучение информации о компании по инн
~~~
GET /company/234567890123
~~~
Пример успешного ответа: 
~~~
{
    "inn": "234567890123",
    "kpp": "234567891",
    "ogrn": "2345678901234",
    "org_name": "АО \"Технопром\"",
    "org_short_name": "Технопром"
}
~~~

---
### GET /company
Получение списка компаний

Пример успешного ответа:
~~~
[
    {
        "inn": "234567890123",
        "kpp": "234567891",
        "ogrn": "2345678901234",
        "org_name": "АО \"Технопром\"",
        "org_short_name": "Технопром"
    },
    {
        "inn": "345678901234",
        "kpp": "345678912",
        "ogrn": "3456789012345",
        "org_name": "ООО \"Альянс\"",
        "org_short_name": "Альянс"
    },
]
~~~
---
### Get /company/order/345678901234
Получение заказов для определённой компании

Пример успешного ответа: null или 

~~~
[
    {
        "id": "340e9cd7-c4d5-4063-8444-452ac7c85a59",
        "idusers": "b0debf62-b3d6-4d27-ab66-f20213394be5",
        "users": "email@mail.ru",
        "service_by_branch": "f7148035-fd33-47e2-b380-1eacb4a66128",
        "inn": "345678901234",
        "name_company": "Альянс",
        "city": "Нижний Новгород",
        "address": "ул. Большая Покровская, 5",
        "service": "мойка",
        "date": "2026-03-15T00:00:00Z",
        "start_time": "0000-01-01T05:00:00Z",
        "order_details": {
            "мойка днища": "15",
            "чистка салона": "30"
        }
    },
    {
        "id": "94e416f7-889d-422e-99f1-113ba4c1841b",
        "idusers": "b0debf62-b3d6-4d27-ab66-f20213394be5",
        "users": "email@mail.ru",
        "service_by_branch": "f7148035-fd33-47e2-b380-1eacb4a66128",
        "inn": "345678901234",
        "name_company": "Альянс",
        "city": "Нижний Новгород",
        "address": "ул. Большая Покровская, 5",
        "service": "мойка",
        "date": "2026-03-15T00:00:00Z",
        "start_time": "0000-01-01T10:30:00Z",
        "order_details": {
            "мойка днища": "15",
            "чистка салона": "30"
        }
    }
]
~~~
---
### POST /company
Создание новой компании

body:
~~~
{
    "inn": "123456789011",
    "kpp": "123456789",
    "ogrn": "1234567890123",
    "org_name": "Общество с ограниченной ответственностью \"Ромашка\"",
    "org_short_name": "ООО \"Ромашка\""
  }
~~~
Пример успешного ответа:
~~~
{
    "inn": "123456789011",
    "kpp": "123456789",
    "ogrn": "1234567890123",
    "org_name": "Общество с ограниченной ответственностью \"Ромашка\"",
    "org_short_name": "ООО \"Ромашка\""
}
~~~
---
### DELETE /company/{inn}
Удаление компании по инн
~~~
DELETE /company/123456789011
~~~
Успешный ответ - ```204 No Content```

---
### Post /company/branch/service
Добавление сервиса - для филиала

body:
~~~
{
    "branch": "7b0fd8a2-0a9e-4004-b973-e36df7cd34e2",
    "service": "38ce95aa-e669-4166-a723-9779f869d894",
    "service_detalis": {
        "Мойка днища": 20,
        "Чистка салона": 30,
        "Полировка": 75
    }
}
~~~
Для service_detalis - формат обязательный(услуга-минуты)

Пример успешного ответа:
~~~
{
    "id": "9da1a2f4-7236-443a-aa4c-0d627dbed89e",
    "branch": "7b0fd8a2-0a9e-4004-b973-e36df7cd34e2",
    "service": "38ce95aa-e669-4166-a723-9779f869d894",
    "service_detalis": {
        "Мойка днища": 20,
        "Чистка салона": 30,
        "Полировка": 75
    }
}
~~~
---

## /client

### POST /client
Создание нового владельца тс - чтобы он создался он должен быть зарегеистрирован (то есть находится в all_users)

body
~~~
{
    "email": "<email>"
}
~~~
Пример успешного ответа
~~~
{
    "id": "<id>",
    "email": "<email>"
}
~~~
---
### PUT /client/city
Обновление города клиента - запоминается каждый раз при выборе города

body:
~~~
{
    "email": "email@mail.ru",
    "city": "city"
}
~~~
Успешный ответ - ```200 OK```


### GET /client/city/{email}
Получение грода клиента по email - для автозаполнения

Пример успешного ответа:
~~~
{
    "city": "city"
}
~~~

---
### Get /client/order/{email}
Получение заказов для опредеоленного владельца тс 
Пример успешного ответа: nill или
~~~
[
    {
        "id": "94e416f7-889d-422e-99f1-113ba4c1841b",
        "idusers": "b0debf62-b3d6-4d27-ab66-f20213394be5",
        "users": "email@mail.ru",
        "service_by_branch": "f7148035-fd33-47e2-b380-1eacb4a66128",
        "inn": "345678901234",
        "name_company": "Альянс",
        "city": "Нижний Новгород",
        "address": "ул. Большая Покровская, 5",
        "service": "мойка",
        "date": "2026-03-15T00:00:00Z",
        "start_time": "0000-01-01T10:30:00Z",
        "order_details": {
            "мойка днища": "15",
            "чистка салона": "30"
        }
    },
    {
        "id": "d19e334a-4135-4699-9229-45371a216be8",
        "idusers": "b0debf62-b3d6-4d27-ab66-f20213394be5",
        "users": "email@mail.ru",
        "service_by_branch": "6fdd2352-ffc4-4140-b54c-67657f841c1c",
        "inn": "123456789012",
        "name_company": "ООО \"Ромашка\"",
        "city": "Санкт-Петербург",
        "address": "Невский пр., 10",
        "service": "мойка"
    },
]
~~~

---
---

## /order
### Post /order
Получение списка всех заказов

body:
~~~
{
    "users": "b453f728-7ac1-41eb-a731-8b1e4564545a",
    "service_by_branch": "de7525f0-5576-48d4-8485-1f4fe801ac15",
    "date": "2026-03-15T00:00:00Z",
    "start_time": "2026-03-15T14:30:00+04:00",
    "order_details": {
        "Полировка": 75
    }
}
~~~
Формат order_details - обязательный (услуга-минуты)

Пример успешного ответа: 
~~~
{
    "id": "3c43dd01-5cbb-424e-a968-90ad19db9fa7",
    "users": "b453f728-7ac1-41eb-a731-8b1e4564545a",
    "service_by_branch": "de7525f0-5576-48d4-8485-1f4fe801ac15",
    "date": "2026-03-15T00:00:00Z",
    "start_time": "2026-03-15T14:30:00+04:00",
    "order_details": {
        "Полировка": 75
    }
}
~~~
---
### GET /order

Получение списка всех заказов 
Успешный ответ null или 
~~~
[
    {
        "id": "94e416f7-889d-422e-99f1-113ba4c1841b",
        "idusers": "b0debf62-b3d6-4d27-ab66-f20213394be5",
        "users": "email@mail.ru",
        "service_by_branch": "f7148035-fd33-47e2-b380-1eacb4a66128",
        "inn": "345678901234",
        "name_company": "Альянс",
        "city": "Нижний Новгород",
        "address": "ул. Большая Покровская, 5",
        "service": "мойка",
        "date": "2026-03-15T00:00:00Z",
        "start_time": "0000-01-01T10:30:00Z",
        "order_details": {
            "мойка днища": "15",
            "чистка салона": "30"
        }
    },
    {
        "id": "340e9cd7-c4d5-4063-8444-452ac7c85a59",
        "idusers": "b0debf62-b3d6-4d27-ab66-f20213394be5",
        "users": "email@mail.ru",
        "service_by_branch": "f7148035-fd33-47e2-b380-1eacb4a66128",
        "inn": "345678901234",
        "name_company": "Альянс",
        "city": "Нижний Новгород",
        "address": "ул. Большая Покровская, 5",
        "service": "мойка",
        "date": "2026-03-15T00:00:00Z",
        "start_time": "0000-01-01T05:00:00Z",
        "order_details": {
            "мойка днища": "15",
            "чистка салона": "30"
        }
    }
]
~~~
